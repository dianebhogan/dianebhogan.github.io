<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../Resources/TableStyles/Procedure.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1>Adding security and display conditions</h1>
        <p>Adding conditions to your widget layout is essentially adding the trigger conditions that determine if the widget displays.</p>
        <h2>Primary condition</h2>
        <p>This procedure continues from the previous steps, from an open Widget Layout Details form.</p>
        <p class="ProcedureIntro">To set conditions:</p>
        <p class="L1Num1" MadCap:autonum="1. ">Open a widget layout.<br />The Widget Layout Details form opens.</p>
        <p class="L1Num" MadCap:autonum="2. ">To set conditions on your widget layout, click <b>Set Conditions</b>.<br />The Execution Trigger Detail form opens.</p>
        <p class="Indent1">
            <img src="../Resources/Images/Widget/Conditions.png" class="thumbnail" />
            <br />
        </p>
        <table style="mc-table-style: url('../Resources/TableStyles/Procedure.css');" class="TableStyle-Procedure" cellspacing="0">
            <col class="TableStyle-Procedure-Column-Column1" style="width: 163px;" />
            <col class="TableStyle-Procedure-Column-Column1" />
            <thead>
                <tr class="TableStyle-Procedure-Head-Header1">
                    <th class="TableStyle-Procedure-HeadE-Column1-Header1">Area</th>
                    <th class="TableStyle-Procedure-HeadD-Column1-Header1">Function</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyE-Column1-Body1">1. Primary Condition</td>
                    <td class="TableStyle-Procedure-BodyD-Column1-Body1">The primary condition must be met before all other conditions are evaluated. Primary Conditions are not required, but if present they must be satisfied.</td>
                </tr>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyE-Column1-Body1">2. Add Additional Conditions</td>
                    <td class="TableStyle-Procedure-BodyD-Column1-Body1">
                        <p class="TableTextLeft"> Additional conditions allow you to configure complex display conditions, which when combined with the weighting system provides the ability to create complex trigger conditions when used in an expression. When adding Additional Conditions, you will have a <strong>Label</strong> field to complete. The Label value is used when constructing Expressions.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyB-Column1-Body1">3. Expression</td>
                    <td class="TableStyle-Procedure-BodyA-Column1-Body1">
                        <p class="TableTextLeft">As conditions (other than the primary) are added, they act as an <strong>OR</strong> condition. For example, adding three additional conditions without an expression would mean: If 'This' or 'That' or 'The Other Thing' – then display the widget. Expressions can be used to create more complex conditions under which the widget will display. Example: "('This' AND 'That') OR 'The Other Thing'" </p>
                        <p class="TableTextLeft">For an extensive discussion about conditions, see the topic <MadCap:xref href="../WFC/WFC_CondExpr.htm" title="condition expressions" alt="condition expressions" class="Heading">Condition Expressions</MadCap:xref>.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2>Departments and Security Entities</h2>
        <p>Departmental and Security Entity Conditions work in a similar fashion.</p>
        <p class="L1Num1" MadCap:autonum="1. ">From the open widget layout, in the <b>Execution Trigger Detail</b> form, select <b>Department</b> or <b>Security Entity</b>.<br />The  Trigger Condition form opens.</p>
        <p class="L1Num" MadCap:autonum="2. ">Departmental and Security Entity Conditions work in a similar fashion. For type <b>Department</b> or <b>Security Entity</b> select the associated value. These are always an <b>Equals</b> condition.</p>
        <table style="mc-table-style: url('../Resources/TableStyles/Procedure.css');" class="TableStyle-Procedure" cellspacing="0">
            <col class="TableStyle-Procedure-Column-Column1" style="width: 164px;" />
            <col class="TableStyle-Procedure-Column-Column1" />
            <thead>
                <tr class="TableStyle-Procedure-Head-Header1">
                    <th class="TableStyle-Procedure-HeadE-Column1-Header1">Trigger Condition</th>
                    <th class="TableStyle-Procedure-HeadD-Column1-Header1">Options</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyE-Column1-Body1">Department</td>
                    <td class="TableStyle-Procedure-BodyD-Column1-Body1">Select the user's Default department as selected on the user profile. If a Department trigger is set, the user must be in that department to satisfy the condition.</td>
                </tr>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyB-Column1-Body1">SecurityEntity</td>
                    <td class="TableStyle-Procedure-BodyA-Column1-Body1">Select a Security Entity associated with a role in which the user is a member. If an Entity trigger is set, the user must be in a role with at least View access to that Entity.</td>
                </tr>
            </tbody>
        </table>
        <h2>Expression</h2>
        <p>When adding additional conditions, the <b>Expression</b> field is exposed. The option is used when building condition expressions.</p>
        <h2>Field Value Expressions</h2>
        <p>Commonly used in Workflow, Field Value Expressions are the most robust of the trigger conditions.</p>
        <table style="mc-table-style: url('../Resources/TableStyles/Procedure.css');margin-left: 0;margin-right: auto;" class="TableStyle-Procedure" cellspacing="0">
            <col class="TableStyle-Procedure-Column-Column1" style="width: 128px;" />
            <col class="TableStyle-Procedure-Column-Column1" />
            <thead>
                <tr class="TableStyle-Procedure-Head-Header1">
                    <th class="TableStyle-Procedure-HeadE-Column1-Header1">Field</th>
                    <th class="TableStyle-Procedure-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyE-Column1-Body1">Type</td>
                    <td class="TableStyle-Procedure-BodyD-Column1-Body1">When FieldValueExpression is selected as the type, additional fields display to allow configuration of the source dataform and associated elements.</td>
                </tr>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyE-Column1-Body1">Source</td>
                    <td class="TableStyle-Procedure-BodyD-Column1-Body1">Select the Dataform that determines the triggering condition.</td>
                </tr>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyE-Column1-Body1">Trigger Field</td>
                    <td class="TableStyle-Procedure-BodyD-Column1-Body1">Select the trigger field from the Source dataform.</td>
                </tr>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyE-Column1-Body1">Operator</td>
                    <td class="TableStyle-Procedure-BodyD-Column1-Body1">
                        <p class="TableTextLeft">Select the logical operator:</p>
                        <ul>
                            <li>Equals</li>
                            <li>Does Not Equal</li>
                            <li>Contains</li>
                            <li>Starts With</li>
                            <li>Empty</li>
                            <li>Not Empty</li>
                            <li>Is Dirty</li>
                            <li>Greater Than, and so on</li>
                        </ul>
                        <p class="TableTextLeft"> The operators are field specific. If the Trigger field selected is a Text field, numerical operators will not be available.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyE-Column1-Body1">Trigger Value</td>
                    <td class="TableStyle-Procedure-BodyD-Column1-Body1">
                        <p class="TableTextLeft">Trigger Value is the value to the right of the operator in the equation. The trigger value  determines whether the condition is met. For example: <strong>Pricing State Source | State Field | Equals Operator | "FL"</strong> Trigger Value means "If the Pricing State, State field Equals Florida." </p>
                    </td>
                </tr>
                <tr class="TableStyle-Procedure-Body-Body1">
                    <td class="TableStyle-Procedure-BodyB-Column1-Body1">Expression Label (option)</td>
                    <td class="TableStyle-Procedure-BodyA-Column1-Body1">When adding additional conditions, the Expression Label field is exposed. This is used when building condition expressions.</td>
                </tr>
            </tbody>
        </table>
        <h2>Condition Expression: Bringing it all together</h2>
        <p>After additional conditions have been configured with labels, you can use these labels to build complex Condition Expressions. </p>
        <p>
            <img src="../Resources/Images/Widget/Widget_CondExpression.png" class="thumbnail" />
        </p>
        <p>In the Dataform header widget example:</p>
        <p class="Bullet1" MadCap:autonum="• ">The <strong>Primary condition</strong> is the <b>Number Of Stories</b> field, which must be greater than 2. </p>
        <p class="Bullet1" MadCap:autonum="• ">If this primary condition is met, the system then analyzes the <b>Additional Conditions</b> using the Condition Expression. This condition expression is built using the <b>Expression</b> labels on the additional conditions and applying the appropriate logic. In the example, this would be:<br /></p>
        <p class="Bullet2" MadCap:autonum="• "><b>EITHER</b> (the Owner Occupied field = 'Yes' AND (the Property State field equals 'GA' OR 'AL'))</p>
        <p class="Bullet2" MadCap:autonum="• "><strong>OR</strong> (the User has at least view rights to the biz_RequestTypeCategory_Environmental entity AND (Number of Stories field is Greater than 5 AND the Property State field equals 'AZ'))</p>
        <p>In this way, very complex trigger conditions can be built to display or hide the appropriate Widgets.</p>
    </body>
</html>