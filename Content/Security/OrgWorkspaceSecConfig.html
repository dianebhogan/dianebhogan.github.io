<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <h1>
            <MadCap:concept term="Security" />Configuring Organization and Workspace Security</h1>
        <p>This document discusses security configuration for Organizations and Workspaces in the <MadCap:variable name="MyVariables.ProductName" /> application.&#160;</p>
        <p class="ActionTip">Role security is ubiquitous throughout <MadCap:variable name="MyVariables.ProductName" /> and therefore deleting an existing role can have widespread, unexpected consequences!&#160;Removing a role can remove access to multiple parts of the application. Before deleting any role security, if you are not sure of the consequences, log an Extranet case.</p>
        <h2>Security entities</h2>
        <p>Entities are the security objects used by the application to check what rights a user has to view, create or modify a system object. Entities are most commonly created by securing a Dataform or dataform field. Securing a dataform creates a Security Entity with the same name as the dataform. For example if you secure the WhatDo dataform a security entity of gen_WhatDo is created (gen_zWhatDo for a custom dataform). In a similar way, securing a dataform field will generate a security entity for the field of&#160;<strong>dataformname_fieldname</strong>.&#160;<br /></p>
        <p>So securing the YouWant field on the WhatDo dataform will create a security entity named gen_WhatDo_YouWant. Once a dataform or field is marked as secure, and that entity applied to a role&#160;this item is unavailable in the system unless a user is either a Global Admin, or a member of a role with at least view only rights for that security entity. In this way you can apply very granular security to dataform objects. </p>
        <p>This security is also hierarchical, meaning if you secure a field set on a dataform, all the fields inside the field set are secured by default, effectively hiding them unless the user has at least view rights to the field set. Careful application of Security entities and role security can make dataform configuration incredibly robust, allowing the application to have a customized look and feel for different groups of users without having a large number of dataforms.</p>
        <p>Security entities can also be artificially created as part of the development process to secure items that are not generated by the system such as processes or custom objects like dashboards. The&#160;<strong>CRM</strong>&#160;entity for example is an object which provides a method for securing the Sales prospecting modules of ClientSpace. As with dataform field entities, the&#160;<strong>CRM_Phone</strong>&#160;entity controls rights to the Telephone field on the org and so on. </p>
        <p>Similarly business object security can be used to secure specific attributes of the system, such as the&#160;<strong>biz_clientservicecase_massupdate</strong>&#160;object that secures the mass update button for the client service case dashboard, or the&#160;<strong>biz_workflow_cm_accept</strong>,&#160;which provides the user access to the Accept link on the Client Master page. </p>
        <p>Another example is&#160;<strong>Incident_AllowTaskMaintenance</strong>. Ordinarily, only the Owner or Assigned to user can edit task fields.&#160;Adding the Incident_AllowTaskMaintenance entity to a user will&#160;allow them to edit&#160;certain fields on a task even if they are not the&#160;owner or assigned to user.</p>
        <p>Adding a dataform entity to a security role allows the administrator to secure dataform records in the following ways:&#160;</p>
        <p>
            <img src="../Resources/Images/Security/EntitySecurity.png" class="thumbnail" />
        </p>
        <p class="Bullet1" MadCap:autonum="• "><strong>View</strong>:&#160;User can view the record (form or field) but is unable to add or manipulate the record.</p>
        <p class="Bullet1" MadCap:autonum="• "><strong>Add</strong>:* User can add new dataforms of that type, or insert information into a field. Add rights apply anywhere in the system dataforms may be added, whether that is within a multiform list, from a dashboard or from the + symbol on a dataform link.<br /></p>
        <p class="Bullet1" MadCap:autonum="• "><strong>Edit</strong>: User can adjust a dataform or field.&#160;<br /></p>
        <p class="Bullet1" MadCap:autonum="• "><strong>Admin</strong>: User has full rights to a dataform or field, inclusive of all other rights.</p>
        <h2>Add and Edit</h2>
        <p>It is important to note that add and edit are not necessarily inclusive, meaning you can give add but not edit rights, or vice versa. In the role above the user can edit an existing Client Master form, but not create the original form. It is further important to note that dataform security only applies to dataforms on workspaces the user has access to, so unless you are a global admin, workspace security supersedes dataform security. You will only have access to employee dataforms for example for employees of workspaces that you have access to, allowing workspace security to work even outside of the workspace, such as on a dashboard.</p>
        <h2>Admin security is powerful</h2>
        <p>Admin Security supercedes all other rights for dataforms - this includes special security such as the Row Level security for Secured case types.&#160; Do not apply admin rights to a dataform unless you are absolutely sure you want the role members to have Global Admin Access for that dataform.</p>
        <h2>Security inheritance</h2>
        <p>Entity security is hierarchical, meaning that it is inherited from the parent object. This means that unsecured fields in a secured fieldset will inherit the security of the fieldset. For example, an unsecured field in a secured fieldset where the user role has view rights will display the unsecured field as read-only.&#160;Users with add rights to the fieldset will see the field as unlocked until it is filled, then the field will become read-only and so on.</p>
        <h4 id="OrganizationandWorkspaceSecurityConfiguration-SecuringafieldsetwithViewrightsaffectsallofthefieldswithinthatfieldset">Securing a fieldset with View rights affects all of the fields within that fieldset</h4>
        <p>ClientSpace  allows <strong>hierarchical security</strong>; basically, any field within a fieldset inherits the security applied to the fieldset (to a point). Individual field security within the fieldset is still followed.</p>
        <h5>Example 1</h5>
        <p>
            <img src="../Resources/Images/Security/Hierarchical Security.jpg" class="thumbnail" />
        </p>
        <p>In the example:</p>
        <p class="Bullet1" MadCap:autonum="• "><strong>Fieldset Test 1</strong> has been secured with <b>Edit</b> rights, none of the fields within the fieldset have their own security so they inherit the security of the fieldset and are also secured with Edit rights. </p>
        <p class="Bullet1" MadCap:autonum="• "><b>Fieldset Test 2</b> has been secured with <strong>View</strong> rights and the <strong>luState</strong> field within fieldset 2 has also been secured, but with <strong>Edit</strong> rights applied. </p>
        <p class="Bullet1" MadCap:autonum="• ">Fields within Fieldset 2 <em>inherit</em> the Fieldset security unless they have their own security, so CheckTestToo and DateToo are View only, while luState which has its own security can be edited.</p>
        <h5>Example 2</h5>
        <p>There <strong><em>must be a minimum of view rights</em></strong> for a field or fieldset to appear on the form. In the following image, security has been flipped.</p>
        <p>
            <img src="../Resources/Images/Security/Hierarchical Security2.jpg" class="thumbnail" />
        </p>
        <p>In the example:</p>
        <p class="Bullet1" MadCap:autonum="• "><strong>Fieldset Test 1</strong> has been secured with <strong>View</strong> rights; none of the fields within the fieldset have their own security so they inherit the security of the fieldset and are also secured with <strong>View</strong> rights. </p>
        <p class="Bullet1" MadCap:autonum="• "><b>Fieldset Test 2</b> has been secured with <strong>Edit </strong>rights and the <strong>luState</strong> field within fieldset 2 has also been secured, but with <strong>View</strong> rights applied. </p>
        <p class="Bullet1" MadCap:autonum="• ">Fields within Fieldset 2 <em>inherit</em> the Fieldset security unless they have their own security, so CheckTestToo and DateToo are editable, while luState which has its own security cannot be edited.</p>
        <h4 id="OrganizationandWorkspaceSecurityConfiguration-BestPractice">Best practice</h4>
        <p>Draw a diagram of the dataform prior to adding security to it in order to map out how you would like the field access to occur. This helps you to envision the different users that will need access to the dataform and help you to better plan out how to architect the security and associated user roles.</p>
        <h3>Organization security</h3>
        <p>
            <img src="../Resources/Images/Security/OrgSecurity.png" />
        </p>
        <br />
        <p class="Bullet1" MadCap:autonum="• "><strong>View List</strong>: John can see all of Tim's orgs as well as his own, but if he attempts to open one of Tim's Org records the system will let him know he does not have access.</p>
        <p class="Bullet1" MadCap:autonum="• "><strong>View</strong>: John can view Tim's orgs in the list and open any of Tim's orgs, but the fields are all read-only and John has no edit rights.</p>
        <p class="Bullet1" MadCap:autonum="• "><strong>Edit</strong>: John can open and edit Tim's orgs as if they were his own.</p>
        <h3>Departmental security</h3>
        <p class="responsive">
            <img src="../Resources/Images/Security/DeptSec.jpg" class="thumbnail" />
            <br />
        </p>
        <p>When a department is created, the system will generate roles for Department Admin and Department member. Departmental security determines what access departmental members and admins have to organizations created by other members of the same department and range from None to Edit – users in the Department Admin role additionally <strong>have full admin access to the Department Members organizations</strong> unless organization fields are specifically secured by adding organization field&#160;Security Entities to a role.&#160;For example, Tim and John are both members of the sales department. Tim creates a number of organizations and John opens the Org Search dashboard. What Member Org Access rights the Sales Members have determines what access John will have to Tim's orgs.</p>
        <p class="Bullet1" MadCap:autonum="• "><strong>None</strong>: John does not even see the orgs or know they exist. If John attempts to create a duplicate of an existing org, the system will warn him a dupe exists.</p>
        <p class="Bullet1" MadCap:autonum="• "><strong>View List:</strong> John can see all of Tim's orgs as well as his own, but if he attempts to open one of Tim's Org records the system will let him know he does not have access.</p>
        <p class="Bullet1" MadCap:autonum="• "><strong>View:</strong> John can view Tim's orgs in the list and open any of Tim's orgs, but the fields are all read-only and John has no edit rights.</p>
        <p class="Bullet1" MadCap:autonum="• "><strong>Edit:</strong> John can open and edit Tim's orgs as if they were his own.</p>
        <h3>Org Category security</h3>
        <p>
            <img src="../Resources/Images/Security/OCsecDetail.png" />
        </p>
        <p>Org category security works in much the same way Departmental security works but is configured under <strong>System Admin</strong> &gt; <strong> Security</strong> &gt; <strong>Org Categories</strong>. Category security is configurable using the following parameters:</p>
        <p class="Bullet1" MadCap:autonum="• "><strong>Organization Category</strong>: The configured security rights only apply to organizations of this Category.<br /></p>
        <p class="Bullet1" MadCap:autonum="• "><strong>Role</strong>: The configured security rights are shared by all members of this role.<br /></p>
        <p class="Bullet1" MadCap:autonum="• "><strong>Access</strong>: Determines what rights members of the configured Role will have for Organizations of the configured Category.</p>
        <p>Org Category security dynamically updates organization security with changes to the associated Organization category.&#160;Changes made under&#160;System Admin &gt; Security &gt; Org Categories&#160;automatically propagate to the associated organizations with a related category.&#160;Changes include category, role, and access changes.&#160;If an Org Category is deleted, the security is removed from all associated organizations.</p>
        <h3>Workspace users</h3>
        <p>The list of <MadCap:variable name="MyVariables.ProductName" /> users who have access to a workspace can be found under <strong>Workspace</strong> <strong>Settings</strong> &gt; <strong>Users</strong>. Only these users and Global Admins will be able to access the workspace. As in the image above, the users in the list are pre-filtered for the current workspace. These users include Template workspace users for the template from which this workspace was generated as well as the associated organizations AssignedTo user and their departmental admin.</p>
        <h3>Client Master:&#160;Org fields</h3>
        <p>The Client Master dataform is an amalgam of Organization data and gen_ClientMaster dataform information. Security for the Client Master dataform and fields is controlled by dataform level security entities, while security for the Organization data presented on the Client Master is controlled by the CRM security entity. Full CRM rights can be seen in the following image.</p>
        <p>
            <img src="../Resources/Images/Security/ClientMasterOrgFields.png" class="thumbnail" />
        </p>
        <p style="font-weight: bold;">Client Master with CRM Edit rights</p>
        <p>While removing the Edit rights from CRM will cause the Organization fields on the Client Master to appear Read-Only. </p>
        <p>
            <img src="../Resources/Images/Security/ClientMaster2.png" class="thumbnail" />
        </p>
        <p style="font-weight: bold;">Client Master without CRM Edit/Admin rights </p>
        <p>The rest of the fields on the Client Master dataform are controlled by Dataform and DataformField security entities, while the header action links are controlled via biz_workflow entities, such as biz_workflow_cm_activate. For detailed information on security entities and their application, see <MadCap:xref href="SecurityEntities.html" title="security entities" alt="security entities" class="Heading">Security Entities</MadCap:xref>.</p>
    </body>
</html>